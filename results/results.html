<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Search Results</title>
    <!-- Include Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="results-style.css">
    <link rel="icon" type="image/x-icon" href="../icons/favicon.png">
</head>
<body>
    <div class="background-wrapper">
        <header class="header">
            <img id="page-title-image" src="../logo.png" alt="" />
            <h2 id="page-title">Enhanced Search Results for Confluence</h2>
            <div class="theme-toggle">
                <button id="open-options" class="settings-icon-button" title="Settings">
                    <img src="../icons/settings.png" height="30px">
                </button>
            </div>
            <div class="controls">
                <div class="top-controls">
                    <div class="row-1">
                        <div class="search-box">
                            <input type="text" id="new-search-input" placeholder="Enter new search query..." />
                            <span class="clear-icon" id="main-search-clear">&times;</span>
                            <button id="new-search-button">Search</button>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <div class="main-content">
            <aside id="filter-sidebar" class="filter-sidebar">
                <div class="filter-controls">
                    <h4>Filters</h4>
                    <div class="filter-select" id="text-filter-container">
                        <input type="text" id="text-filter" placeholder="üî†  Filter by text" />
                        <span class="clear-icon" id="filter-text-clear">&times;</span>
                    </div>
                    <div class="filter-select" id="space-filter-container">
                        <input type="text" id="space-filter" placeholder="üöÄ  Filter Spaces" />
                        <span class="clear-icon" id="space-clear">&times;</span>
                        <div class="options" id="space-options"></div>
                    </div>
                    <div class="filter-select" id="contributor-filter-container">
                        <input type="text" id="contributor-filter" placeholder="üë§  Filter Contributors" />
                        <span class="clear-icon" id="contributor-clear">&times;</span>
                        <div class="options" id="contributor-options"></div>
                    </div>
                    <div class="filter-select" id="date-filter-container">
                        <select id="date-filter" class="filter-dropdown">
                            <option value="any">üïí&nbsp;&nbsp;Any time</option>
                            <option value="1d">The past day</option>
                            <option value="1w">The past week</option>
                            <option value="1m">The past month</option>
                            <option value="1y">The past year</option>
                        </select>
                    </div>
                    <div class="filter-select" id="type-filter-container">
                        <select id="type-filter" class="filter-dropdown">
                            <option value="">üìÑ&nbsp;&nbsp;All Types</option>
                            <option value="page">üìò&nbsp;&nbsp;Page</option>
                            <option value="blogpost">üìù&nbsp;&nbsp;Blog post</option>
                            <option value="attachment">üìé&nbsp;&nbsp;Attachment</option>
                            <option value="comment">üí¨&nbsp;&nbsp;Comment</option>
                        </select>
                    </div>
                </div>
                <div class="view-section">
                    <h4>Views</h4>
                    <div class="view-buttons">
                        <button id="tree-view-btn" class="active">Tree</button>
                        <button id="table-view-btn">Table</button>
                    </div>
                </div>
            </aside>
            <div class="container">
                <div id="tree-container" class="tree-container"></div>
                <div id="table-container" class="table-container"></div>
                <div id="loading-indicator" style="display: none;"><div class="loader"></div></div>
            </div>
        </div>
        
        <button id="scroll-to-top">‚Üë</button>
        <div id="summary-modal" class="modal-overlay" style="display: none;">
            <div class="modal-content">
                <span class="modal-close" id="modal-close">&times;</span>
                <div id="modal-body" class="modal-body">
                    <div id="summary-content"></div>
                    <div id="qa-thread"></div>
                    <div id="qa-input-area">
                        <textarea id="qa-input" placeholder="Ask a follow-up question..."></textarea>
                        <button id="qa-submit">Ask</button>
                        <div id="qa-loading" style="display: none;">Answering...</div>
                    </div>
                </div>
            </div>
        </div>
        <script src="results-script.js"></script>
    </div>
</body>
</html>